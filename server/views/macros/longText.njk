{% from "../macros/validationErrorMessage.njk" import validationErrorMessage %}

{% macro longText(currentQuestionAndAnswer, existingAnswer, isFirstQuestionOnPage, validationErrors) %}
  {% set validationError = validationErrors | getValidationError(currentQuestionAndAnswer.question.id) %}

  <div class="govuk-form-group {{ 'govuk-form-group--error' if validationError }} govuk-!-padding-top-6">
    {% if not isFirstQuestionOnPage %}
      <b>{{ currentQuestionAndAnswer.question.title }}</b>
    {% endif %}
    
    <label class="govuk-label" for="{{ currentQuestionAndAnswer.question.id }}">{{ currentQuestionAndAnswer.question.subTitle }}</label>
    {% if validationError %}
      {{ validationErrorMessage(validationError.validationType)  }}
    {% endif %}
    <textarea class="govuk-textarea" id="{{ currentQuestionAndAnswer.question.id }}" name="{{ currentQuestionAndAnswer.question.id }}" rows="5" aria-describedby="more-detail-hint">{{ existingAnswer.answer if existingAnswer }}</textarea>
  </div>
{% endmacro %}