{% extends "../partials/layout.njk" %}
{% set pageHeading = "All pathways overview" %}
{% from "govuk/components/select/macro.njk" import govukSelect %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "../macros/prisoners-table.njk" import prisonersTable %}
{% block content %}
  {# Only NOMIS users can access the list prisoners functionality at present #}
  {% if isPrisonUser %}
    <form action="/" method="GET">
      <div class="govuk-grid-row filters govuk-!-margin-bottom-4">
        <div class="govuk-grid-column-full">
          <h3 class="govuk-heading-m">Filter by:</h3>
        </div>
        <div class="govuk-grid-column-one-quarter">
          <div class="govuk-form-group">
            <label class="govuk-label" for="releaseTime">
              Time to release
            </label>
            <select class="govuk-select" id="releaseTime" name="releaseTime">
              <option value="84" {% if releaseTime == '84' %} selected {% endif %}>Within 12 weeks</option>
              <option value="168" {% if releaseTime == '168' %} selected {% endif %}>Within 24 weeks</option>
              <option value="0" {% if releaseTime == '0' %} selected {% endif %}>All prisoners</option>
            </select>
          </div>
        </div>
        <div class="govuk-grid-column-one-quarter">
          <div class="govuk-form-group">
            <label class="govuk-label " for="searchInput">
              Prisonerâ€™s name or ID
            </label>
            <input class="govuk-input" id="searchInput" name="searchInput" placeholder="" type="text" value="{{ searchInput }}">
          </div>
        </div>
        <div class="govuk-grid-column-full">
          <button class="govuk-button" type="submit">Apply filters</button>
        </div>
      </div>
    </form>
    {% if prisonersList %}
      {{ prisonersTable(prisonersList.content) }}
      <nav class="govuk-pagination" role="navigation" aria-label="results">
        <ul class="govuk-pagination__list">
          <li class="govuk-pagination__item govuk-pagination__item--current">
            <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 1" aria-current="page">
              1
            </a>
          </li>
          <li class="govuk-pagination__item">
            <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 2">
              2
            </a>
          </li>
          <li class="govuk-pagination__item">
            <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 3">
              3
            </a>
          </li>
        </ul>
        <div class="govuk-pagination__next">
          <a class="govuk-link govuk-pagination__link" href="#" rel="next"> <span class="govuk-pagination__link-title">Next</span> <svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
              <path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>
            </svg></a>
        </div>
      </nav>
    {% endif %}
    {% else %}
      <p>This functionality is only currently available for NOMIS users. Please log in as a NOMIS user and try again.</p>
    {% endif %}
{% endblock %}